{"version":3,"file":"static/js/895.fce9fdd2.chunk.js","mappings":"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","sources":["components/BackLink.styled.js","components/BackLink.js","pages/MovieDetails.js","utils/Api.js"],"sourcesContent":["import styled from 'styled-components';\n\nexport const Container = styled.div`\n  max-width: 1600px;\n  margin: 0 auto;\n  padding: 32px 16px;\n`;\n\nexport const GoBackBtn = styled.button`\n  padding: 10px 20px;\n  text-decoration: none;\n  color: white;\n  background-color: orange;\n  font-size: 24px;\n  transition: all 250ms ease;\n  border: none;\n  border-radius: 4px;\n\n  &:hover {\n    color: orange;\n    background-color: transparent;\n    border: 1px solid white;\n    transform: scale(1);\n  }\n`;\n","import { Link } from 'react-router-dom';\nimport { GoBackBtn, Container } from './BackLink.styled';\n\nconst BackLink = ({ to, children }) => {\n  return (\n    <Container>\n      <Link to={to}>\n        <GoBackBtn>Go back</GoBackBtn>\n        {children}\n      </Link>\n    </Container>\n  );\n};\nexport default BackLink;\n","import { useParams, useLocation, Outlet, NavLink } from 'react-router-dom';\nimport React, { useEffect, useState, Suspense, useRef } from 'react';\nimport { ToastContainer, toast } from 'react-toastify';\n\nimport { fetchMoviesById } from '../utils/Api';\nimport Loader from '../components/Loader';\nimport BackLink from 'components/BackLink';\n\nconst MovieDetails = () => {\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(false);\n  const [movies, setMovies] = useState({});\n\n  const { movieId } = useParams();\n  const { title, poster_path, vote_average, overview, genres } = movies;\n  const allGenres = genres ? genres.map(genre => genre.name).join(', ') : [];\n  const defaultImg =\n    'https://ireland.apollo.olxcdn.com/v1/files/0iq0gb9ppip8-UA/image;s=1000x700';\n  const posterBasePath = 'https://image.tmdb.org/t/p/w500';\n\n  const location = useLocation();\n  const backLinkHref = useRef(location.state?.from ?? '/Movies');\n\n  useEffect(() => {\n    const controller = new AbortController();\n\n    async function getMovieById() {\n      try {\n        setLoading(true);\n        setError(false);\n        const movieById = await fetchMoviesById(movieId, {\n          signal: controller.signal,\n        });\n        setMovies(movieById);\n      } catch (error) {\n        if (error.code !== 'ERR_CANCELED') {\n          setError(true);\n        }\n      } finally {\n        setLoading(false);\n      }\n    }\n\n    getMovieById();\n    return () => {\n      controller.abort();\n    };\n  }, [movieId]);\n\n  return (\n    <main>\n      {loading && <Loader />}\n      {error &&\n        toast.error(`Whoops, something went wrong. Try reloading the page`)}\n      <BackLink to={backLinkHref.current} />\n      <img\n        src={poster_path ? `${posterBasePath}${poster_path}` : defaultImg}\n        alt={title}\n        width=\"200\"\n        loading=\"lazy\"\n      />\n      <h2>{title}</h2>\n      <p>User score: {Math.round(vote_average * 10)}%</p>\n      <h3>Overview</h3>\n      <p>{overview}</p>\n      <h3>Genres</h3>\n      <p>{allGenres}</p>\n      <ul>\n        <li>\n          <NavLink to=\"cast\">Cast</NavLink>\n        </li>\n        <li>\n          <NavLink to=\"review\">Review</NavLink>\n        </li>\n      </ul>\n      <Suspense fallback={<Loader />}>\n        <Outlet />\n      </Suspense>\n      <ToastContainer autoClose={4000} theme=\"colored\" />\n    </main>\n  );\n};\n\nexport default MovieDetails;\n","import axios from 'axios';\n\nconst API_KEY = '3dcf7f9df138daa52451d10b15111f4e';\n\naxios.defaults.baseURL = 'https://api.themoviedb.org/3';\naxios.defaults.params = {\n  key: API_KEY,\n};\n\n// trending movies search for Home page\n\nexport const fetchTrandingMovies = async (params = {}) => {\n  const response = await axios.get(\n    `/trending/movie/day?api_key=${API_KEY}`,\n    params\n  );\n  return response.data;\n};\n\n// movie by ID\n\nexport const fetchMoviesById = async (movieId, params = {}) => {\n  const response = await axios.get(\n    `/movie/${movieId}?api_key=${API_KEY}`,\n    params\n  );\n  return response.data;\n};\n\n// movies for Movies page\n\nexport const fetchMoviesByQuery = async (value, params = {}) => {\n  const response = await axios.get(\n    `/search/movie?query=${value}&api_key=${API_KEY}`,\n    params\n  );\n  return response.data;\n};\n\n// fetch for review\n\nexport const fetchReview = async (movieId, params = {}) => {\n  const response = await axios.get(\n    `/movie/${movieId}/reviews?api_key=${API_KEY}`,\n    params\n  );\n  return response.data;\n};\n\n// fetch for cast\n\nexport const fetchCast = async (movieId, params = {}) => {\n  const response = await axios.get(\n    `/movie/${movieId}/credits?api_key=${API_KEY}`,\n    params\n  );\n  return response.data;\n};\n"],"names":["Container","styled","GoBackBtn","to","children","useState","loading","setLoading","error","setError","movies","setMovies","movieId","useParams","title","poster_path","vote_average","overview","genres","allGenres","map","genre","name","join","location","useLocation","backLinkHref","useRef","state","from","useEffect","controller","AbortController","fetchMoviesById","signal","movieById","code","getMovieById","abort","Loader","toast","current","src","alt","width","Math","round","Suspense","fallback","autoClose","theme","API_KEY","axios","key","fetchTrandingMovies","params","response","data","fetchMoviesByQuery","value","fetchReview","fetchCast"],"sourceRoot":""}